!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){"use strict";const o=document.querySelector(".header__nav-wrapper"),r=(document.querySelector(".header__nav-btn-active"),document.querySelectorAll(".header__nav-btn-active-line"));t.a=()=>{r[0].classList.contains("header__nav-btn-active-line_enable")?(r[0].classList.remove("header__nav-btn-active-line_enable"),r[1].classList.remove("header__nav-btn-active-line_enable")):(r[0].classList.add("header__nav-btn-active-line_enable"),r[1].classList.add("header__nav-btn-active-line_enable")),o.classList.contains("header__nav-wrapper_enabled")?o.classList.remove("header__nav-wrapper_enabled"):o.classList.add("header__nav-wrapper_enabled")}},function(e,t,n){},,,function(e,t,n){"use strict";n.r(t);n(1);var o=n(0);var r=class{constructor(e){this.popup=e,this.closeButton=this.popup.querySelector(".popup__button-close")}openPopup(){console.log(this.popup),this.popup.classList.remove("popup_disabled")}closePopup(){this.popup.classList.add("popup_disabled")}setStateCloseButton(){this.closeButton.addEventListener("click",()=>{this.closePopup()})}setStateClosePopup(){this.popup.addEventListener("click",e=>{e.target===this.popup&&this.closePopup()})}};var s=class{constructor(e,t,n){this.form=e,this.togglePopup=this.form.querySelector(".form__signin-signup")||this.form.querySelector(".notification__signin"),this.currentPopup=t,this.anotherPopup=n}setEventListenerToggle(){this.togglePopup.addEventListener("click",()=>{this.currentPopup.closePopup(),this.anotherPopup.openPopup(),this.anotherPopup.setStateClosePopup(),this.anotherPopup.setStateCloseButton()})}};var i=class extends s{constructor(e,t,n){super(e,t,n)}setEventListenerToggle(){super.setEventListenerToggle(),this.setSubmitListener()}setSubmitListener(){this.form.addEventListener("submit",e=>{e.preventDefault(),this.currentPopup.closePopup()})}};var u=class extends s{constructor(e,t,n,o,r){super(e,t,n),this.setEventListenerAnotherForm=o,this.signupHandler=r}setEventListenerToggle(){super.setEventListenerToggle(),this.setEventListenerAnotherForm()}setSubmitListener(){this.form.addEventListener("submit",e=>{e.preventDefault(),this.signupHandler()})}};const p=document.querySelector(".header__button"),a=document.querySelector(".header__nav-btn-active"),c=document.querySelector(".popup_success"),l=document.querySelector(".popup_signup"),d=l.querySelector(".form"),v=document.querySelector(".popup_signin"),_=v.querySelector(".form"),h=c.querySelector(".notification"),b=new r(c),f=new r(l),g=new r(v),m=new i(_,g,f),L=new i(h,b,g),S=new u(d,f,g,()=>{m.setEventListenerToggle(),m.setSubmitListener()},()=>{f.closePopup(),b.openPopup(),L.setEventListenerToggle()});p.addEventListener("click",()=>{f.openPopup(),f.setStateCloseButton(),f.setStateClosePopup(),S.setEventListenerToggle(),S.setSubmitListener()}),a.addEventListener("click",o.a)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Rlc3Rqcy9zZXRGdWxsU3RhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Rlc3Rqcy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdGVzdGpzL0Zvcm0uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Rlc3Rqcy9Gb3JtU2lnbkluLmpzIiwid2VicGFjazovLy8uL3NyYy90ZXN0anMvRm9ybVNpZ25VcC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvbWFpbi9pbmRleC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImhlYWRlck5hdldyYXBwZXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJidG5DbG9zZU5hdkxpbmVzIiwicXVlcnlTZWxlY3RvckFsbCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwicmVtb3ZlIiwiYWRkIiwicG9wdXAiLCJ0aGlzIiwiY2xvc2VCdXR0b24iLCJjb25zb2xlIiwibG9nIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsb3NlUG9wdXAiLCJldmVudCIsInRhcmdldCIsImZvcm0iLCJjdXJyZW50UG9wdXAiLCJhbm90aGVyUG9wdXAiLCJ0b2dnbGVQb3B1cCIsIm9wZW5Qb3B1cCIsInNldFN0YXRlQ2xvc2VQb3B1cCIsInNldFN0YXRlQ2xvc2VCdXR0b24iLCJzdXBlciIsInNldEV2ZW50TGlzdGVuZXJUb2dnbGUiLCJzZXRTdWJtaXRMaXN0ZW5lciIsInByZXZlbnREZWZhdWx0Iiwic2V0RXZlbnRMaXN0ZW5lckFub3RoZXJGb3JtIiwic2lnbnVwSGFuZGxlciIsIm9wZW5TaWdudXBCdXR0b24iLCJidG5DbG9zZU5hdiIsInBvcHVwU3VjY2VzcyIsInBvcHVwU2lnblVwIiwiZm9ybVNpZ25VcCIsInBvcHVwU2lnbkluIiwiZm9ybVNpZ25JbiIsImZvcm1TdWNjZXNzIiwicG9wdXBTdWNjZXNzT2JqIiwicG9wdXBTaWduVXBPYmoiLCJwb3B1cFNpZ25Jbk9iaiIsImZvcm1TaWduSW5PYmoiLCJmb3JtU3VjY2Vzc09iaiIsImZvcm1TaWduVXBPYmoiLCJGb3JtU2lnblVwIiwic2V0RnVsbFN0YXRlIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFP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QVlHLEVBQU1DLEVBQWNDLEVBQWFTLEVBQTZCQyxHQUN4RUwsTUFBTVAsRUFBTUMsRUFBY0MsR0FDMUJWLEtBQUttQiw0QkFBOEJBLEVBQ25DbkIsS0FBS29CLGNBQWdCQSxFQUd2Qix5QkFDRUwsTUFBTUMseUJBQ05oQixLQUFLbUIsOEJBR1Asb0JBQ0VuQixLQUFLUSxLQUFLSixpQkFBaUIsU0FBV0UsSUFDcENBLEVBQU1ZLGlCQUNObEIsS0FBS29CLG9CQ1ZYLE1BQU1DLEVBQW1COUIsU0FBU0MsY0FBYyxtQkFDMUM4QixFQUFjL0IsU0FBU0MsY0FBYywyQkFDckMrQixFQUFlaEMsU0FBU0MsY0FBYyxrQkFDdENnQyxFQUFjakMsU0FBU0MsY0FBYyxpQkFDckNpQyxFQUFhRCxFQUFZaEMsY0FBYyxTQUN2Q2tDLEVBQWNuQyxTQUFTQyxjQUFjLGlCQUNyQ21DLEVBQWFELEVBQVlsQyxjQUFjLFNBQ3ZDb0MsRUFBY0wsRUFBYS9CLGNBQWMsaUJBR3pDcUMsRUFBa0IsSUFBSSxFQUFNTixHQUM1Qk8sRUFBaUIsSUFBSSxFQUFNTixHQUMzQk8sRUFBaUIsSUFBSSxFQUFNTCxHQUMzQk0sRUFBZ0IsSUFBSSxFQUFXTCxFQUFZSSxFQUFnQkQsR0FDM0RHLEVBQWlCLElBQUksRUFBV0wsRUFBYUMsRUFBaUJFLEdBWTlERyxFQUFnQixJQUFJQyxFQUFXVixFQUFZSyxFQUFnQkMsRUFWN0IsS0FDbENDLEVBQWNoQix5QkFDZGdCLEVBQWNmLHFCQUdNLEtBQ3BCYSxFQUFlekIsYUFDZndCLEVBQWdCakIsWUFDaEJxQixFQUFlakIsMkJBY2pCSyxFQUFpQmpCLGlCQUFpQixRQVJGLEtBQzlCMEIsRUFBZWxCLFlBQ2ZrQixFQUFlaEIsc0JBQ2ZnQixFQUFlakIscUJBQ2ZxQixFQUFjbEIseUJBQ2RrQixFQUFjakIsc0JBSWhCSyxFQUFZbEIsaUJBQWlCLFFBQVNnQyxFQUFBIiwiZmlsZSI6Im1haW4uM2Q3MDQzZjZmNDdiMzBmMTcyYTguanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNCk7XG4iLCJjb25zdCBoZWFkZXJOYXZXcmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fbmF2LXdyYXBwZXInKTtcbmNvbnN0IGJ0bkNsb3NlTmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fbmF2LWJ0bi1hY3RpdmUnKTtcbmNvbnN0IGJ0bkNsb3NlTmF2TGluZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxuICAnLmhlYWRlcl9fbmF2LWJ0bi1hY3RpdmUtbGluZSdcbik7XG5cbmNvbnN0IHNldEFjdGl2ZU5hdldyYXBwZXIgPSAoKSA9PiB7XG4gIGlmICghaGVhZGVyTmF2V3JhcHBlci5jbGFzc0xpc3QuY29udGFpbnMoJ2hlYWRlcl9fbmF2LXdyYXBwZXJfZW5hYmxlZCcpKSB7XG4gICAgaGVhZGVyTmF2V3JhcHBlci5jbGFzc0xpc3QuYWRkKCdoZWFkZXJfX25hdi13cmFwcGVyX2VuYWJsZWQnKTtcbiAgfSBlbHNlIHtcbiAgICBoZWFkZXJOYXZXcmFwcGVyLmNsYXNzTGlzdC5yZW1vdmUoJ2hlYWRlcl9fbmF2LXdyYXBwZXJfZW5hYmxlZCcpO1xuICB9XG59O1xuXG5jb25zdCBzZXRTdGF0ZUJ0bkNsb3NlTmF2ID0gKCkgPT4ge1xuICBpZiAoXG4gICAgIWJ0bkNsb3NlTmF2TGluZXNbMF0uY2xhc3NMaXN0LmNvbnRhaW5zKFxuICAgICAgJ2hlYWRlcl9fbmF2LWJ0bi1hY3RpdmUtbGluZV9lbmFibGUnXG4gICAgKVxuICApIHtcbiAgICBidG5DbG9zZU5hdkxpbmVzWzBdLmNsYXNzTGlzdC5hZGQoJ2hlYWRlcl9fbmF2LWJ0bi1hY3RpdmUtbGluZV9lbmFibGUnKTtcbiAgICBidG5DbG9zZU5hdkxpbmVzWzFdLmNsYXNzTGlzdC5hZGQoJ2hlYWRlcl9fbmF2LWJ0bi1hY3RpdmUtbGluZV9lbmFibGUnKTtcbiAgfSBlbHNlIHtcbiAgICBidG5DbG9zZU5hdkxpbmVzWzBdLmNsYXNzTGlzdC5yZW1vdmUoJ2hlYWRlcl9fbmF2LWJ0bi1hY3RpdmUtbGluZV9lbmFibGUnKTtcbiAgICBidG5DbG9zZU5hdkxpbmVzWzFdLmNsYXNzTGlzdC5yZW1vdmUoJ2hlYWRlcl9fbmF2LWJ0bi1hY3RpdmUtbGluZV9lbmFibGUnKTtcbiAgfVxufTtcblxuY29uc3Qgc2V0RnVsbFN0YXRlID0gKCkgPT4ge1xuICBzZXRTdGF0ZUJ0bkNsb3NlTmF2KCk7XG4gIHNldEFjdGl2ZU5hdldyYXBwZXIoKTtcbn07XG5leHBvcnQgZGVmYXVsdCBzZXRGdWxsU3RhdGU7XG4iLCJjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwKSB7XG4gICAgdGhpcy5wb3B1cCA9IHBvcHVwO1xuICAgIHRoaXMuY2xvc2VCdXR0b24gPSB0aGlzLnBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fYnV0dG9uLWNsb3NlJyk7XG4gIH1cblxuICBvcGVuUG9wdXAoKSB7XG4gICAgY29uc29sZS5sb2codGhpcy5wb3B1cCk7XG4gICAgdGhpcy5wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9kaXNhYmxlZCcpO1xuICB9XG5cbiAgY2xvc2VQb3B1cCgpIHtcbiAgICB0aGlzLnBvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX2Rpc2FibGVkJyk7XG4gIH1cblxuICBzZXRTdGF0ZUNsb3NlQnV0dG9uKCkge1xuICAgIHRoaXMuY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLmNsb3NlUG9wdXAoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHNldFN0YXRlQ2xvc2VQb3B1cCgpIHtcbiAgICB0aGlzLnBvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSB0aGlzLnBvcHVwKSB7XG4gICAgICAgIHRoaXMuY2xvc2VQb3B1cCgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvcHVwO1xuIiwiY2xhc3MgRm9ybSB7XG4gIGNvbnN0cnVjdG9yKGZvcm0sIGN1cnJlbnRQb3B1cCwgYW5vdGhlclBvcHVwKSB7XG4gICAgdGhpcy5mb3JtID0gZm9ybTtcbiAgICB0aGlzLnRvZ2dsZVBvcHVwID1cbiAgICAgIHRoaXMuZm9ybS5xdWVyeVNlbGVjdG9yKCcuZm9ybV9fc2lnbmluLXNpZ251cCcpIHx8XG4gICAgICB0aGlzLmZvcm0ucXVlcnlTZWxlY3RvcignLm5vdGlmaWNhdGlvbl9fc2lnbmluJyk7XG4gICAgdGhpcy5jdXJyZW50UG9wdXAgPSBjdXJyZW50UG9wdXA7XG4gICAgdGhpcy5hbm90aGVyUG9wdXAgPSBhbm90aGVyUG9wdXA7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVyVG9nZ2xlKCkge1xuICAgIHRoaXMudG9nZ2xlUG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLmN1cnJlbnRQb3B1cC5jbG9zZVBvcHVwKCk7XG4gICAgICB0aGlzLmFub3RoZXJQb3B1cC5vcGVuUG9wdXAoKTtcbiAgICAgIHRoaXMuYW5vdGhlclBvcHVwLnNldFN0YXRlQ2xvc2VQb3B1cCgpO1xuICAgICAgdGhpcy5hbm90aGVyUG9wdXAuc2V0U3RhdGVDbG9zZUJ1dHRvbigpO1xuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZvcm07XG4iLCJpbXBvcnQgRm9ybSBmcm9tIFwiLi9Gb3JtXCI7XG5cbmNsYXNzIEZvcm1TaWduSW4gZXh0ZW5kcyBGb3JtIHtcbiAgY29uc3RydWN0b3IoZm9ybSwgY3VycmVudFBvcHVwLCBhbm90aGVyUG9wdXApIHtcbiAgICBzdXBlcihmb3JtLCBjdXJyZW50UG9wdXAsIGFub3RoZXJQb3B1cCk7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVyVG9nZ2xlKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJUb2dnbGUoKTtcbiAgICB0aGlzLnNldFN1Ym1pdExpc3RlbmVyKCk7XG4gIH1cblxuICBzZXRTdWJtaXRMaXN0ZW5lcigpIHtcbiAgICB0aGlzLmZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5jdXJyZW50UG9wdXAuY2xvc2VQb3B1cCgpO1xuICAgIH0pXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRm9ybVNpZ25JbjtcbiIsImltcG9ydCBGb3JtIGZyb20gXCIuL0Zvcm1cIjtcblxuY2xhc3MgRm9ybVNpZ25JbiBleHRlbmRzIEZvcm0ge1xuICBjb25zdHJ1Y3Rvcihmb3JtLCBjdXJyZW50UG9wdXAsIGFub3RoZXJQb3B1cCxzZXRFdmVudExpc3RlbmVyQW5vdGhlckZvcm0sIHNpZ251cEhhbmRsZXIpIHtcbiAgICBzdXBlcihmb3JtLCBjdXJyZW50UG9wdXAsIGFub3RoZXJQb3B1cCk7XG4gICAgdGhpcy5zZXRFdmVudExpc3RlbmVyQW5vdGhlckZvcm0gPSBzZXRFdmVudExpc3RlbmVyQW5vdGhlckZvcm07XG4gICAgdGhpcy5zaWdudXBIYW5kbGVyID0gc2lnbnVwSGFuZGxlcjtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJUb2dnbGUoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lclRvZ2dsZSgpO1xuICAgIHRoaXMuc2V0RXZlbnRMaXN0ZW5lckFub3RoZXJGb3JtKCk7XG4gIH1cblxuICBzZXRTdWJtaXRMaXN0ZW5lcigpIHtcbiAgICB0aGlzLmZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5zaWdudXBIYW5kbGVyKCk7XG4gICAgfSlcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBGb3JtU2lnbkluO1xuIiwiaW1wb3J0ICcuL2luZGV4LmNzcyc7XG5pbXBvcnQgc2V0RnVsbFN0YXRlIGZyb20gJy4uLy4uL3Rlc3Rqcy9zZXRGdWxsU3RhdGUnO1xuaW1wb3J0IFBvcHVwIGZyb20gJy4uLy4uL3Rlc3Rqcy9Qb3B1cCc7XG5pbXBvcnQgRm9ybVNpZ25JbiBmcm9tICcuLi8uLi90ZXN0anMvRm9ybVNpZ25Jbic7XG5pbXBvcnQgRm9ybVNpZ25VcCBmcm9tICcuLi8uLi90ZXN0anMvRm9ybVNpZ25VcCc7XG5cblxuY29uc3Qgb3BlblNpZ251cEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXJfX2J1dHRvbicpO1xuY29uc3QgYnRuQ2xvc2VOYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19uYXYtYnRuLWFjdGl2ZScpO1xuY29uc3QgcG9wdXBTdWNjZXNzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX3N1Y2Nlc3MnKTtcbmNvbnN0IHBvcHVwU2lnblVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX3NpZ251cCcpO1xuY29uc3QgZm9ybVNpZ25VcCA9IHBvcHVwU2lnblVwLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtJyk7XG5jb25zdCBwb3B1cFNpZ25JbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9zaWduaW4nKTtcbmNvbnN0IGZvcm1TaWduSW4gPSBwb3B1cFNpZ25Jbi5xdWVyeVNlbGVjdG9yKCcuZm9ybScpO1xuY29uc3QgZm9ybVN1Y2Nlc3MgPSBwb3B1cFN1Y2Nlc3MucXVlcnlTZWxlY3RvcignLm5vdGlmaWNhdGlvbicpO1xuXG5cbmNvbnN0IHBvcHVwU3VjY2Vzc09iaiA9IG5ldyBQb3B1cChwb3B1cFN1Y2Nlc3MpO1xuY29uc3QgcG9wdXBTaWduVXBPYmogPSBuZXcgUG9wdXAocG9wdXBTaWduVXApO1xuY29uc3QgcG9wdXBTaWduSW5PYmogPSBuZXcgUG9wdXAocG9wdXBTaWduSW4pO1xuY29uc3QgZm9ybVNpZ25Jbk9iaiA9IG5ldyBGb3JtU2lnbkluKGZvcm1TaWduSW4sIHBvcHVwU2lnbkluT2JqLCBwb3B1cFNpZ25VcE9iaik7XG5jb25zdCBmb3JtU3VjY2Vzc09iaiA9IG5ldyBGb3JtU2lnbkluKGZvcm1TdWNjZXNzLCBwb3B1cFN1Y2Nlc3NPYmosIHBvcHVwU2lnbkluT2JqKTtcblxuY29uc3Qgc2V0RXZlbnRMaXN0ZW5lckFub3RoZXJGb3JtID0gKCkgPT4ge1xuICBmb3JtU2lnbkluT2JqLnNldEV2ZW50TGlzdGVuZXJUb2dnbGUoKTtcbiAgZm9ybVNpZ25Jbk9iai5zZXRTdWJtaXRMaXN0ZW5lcigpO1xufTtcblxuY29uc3Qgc2lnbnVwSGFuZGxlciA9ICgpID0+IHtcbiAgcG9wdXBTaWduVXBPYmouY2xvc2VQb3B1cCgpO1xuICBwb3B1cFN1Y2Nlc3NPYmoub3BlblBvcHVwKCk7XG4gIGZvcm1TdWNjZXNzT2JqLnNldEV2ZW50TGlzdGVuZXJUb2dnbGUoKTtcbn1cbmNvbnN0IGZvcm1TaWduVXBPYmogPSBuZXcgRm9ybVNpZ25VcChmb3JtU2lnblVwLCBwb3B1cFNpZ25VcE9iaiwgcG9wdXBTaWduSW5PYmosIHNldEV2ZW50TGlzdGVuZXJBbm90aGVyRm9ybSwgc2lnbnVwSGFuZGxlcik7XG5cblxuXG5jb25zdCBvcGVuU2lnbnVwQnV0dG9uSGFuZGxlciA9ICgpID0+IHtcbiAgcG9wdXBTaWduVXBPYmoub3BlblBvcHVwKCk7XG4gIHBvcHVwU2lnblVwT2JqLnNldFN0YXRlQ2xvc2VCdXR0b24oKTtcbiAgcG9wdXBTaWduVXBPYmouc2V0U3RhdGVDbG9zZVBvcHVwKCk7XG4gIGZvcm1TaWduVXBPYmouc2V0RXZlbnRMaXN0ZW5lclRvZ2dsZSgpO1xuICBmb3JtU2lnblVwT2JqLnNldFN1Ym1pdExpc3RlbmVyKCk7XG59O1xuXG5vcGVuU2lnbnVwQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblNpZ251cEJ1dHRvbkhhbmRsZXIpO1xuYnRuQ2xvc2VOYXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzZXRGdWxsU3RhdGUpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==